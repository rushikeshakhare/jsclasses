<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Practice</title>
</head>
<body>
    <script> 
    const options = ()=>{
        let List = [];
        const additems = (item)=>{
           item.count = 0;
            List.push(item);
               
        }; 
        const listItems = (item)=>{
            console.log("Items With Their Counts -");
          List.forEach((element)=>{
            if(element.itemName == item){
                console.log(`ItemName :  ${element.itemName}, Count : ${element.count}`);
            }
          });
           
        }
    
       const listAllItems = ()=>{
        console.log("AllItems With Their Counts -");
           List.forEach((element)=>{
                console.log(`ItemName : ${element.itemName} , Count : ${element.count}`);
           });
        };

        const updatecount = (item)=>{
            List.push(item);
        };

        const removeItem = (item)=>{
            let ritem = List.findIndex((element)=>element.itemName === item);
            if(ritem > -1){
                List.splice(ritem,1)
                console.log("Item Removed");
            }
        }
        const removeAllItem = ()=>{
            List.splice(0);
            console.log("All Itmes Are Removed");
        }
        return {
            add: additems,
            update : updatecount,
            listItems,
            listAllItems,
            remove : removeItem,
            removeAll : removeAllItem
        };
    }

    function main(commands){
        const option = options();
        commands.forEach((element)=>{ 
            const allParameters = element.split(' ');
            let currentCommand = allParameters[0];
            let currentItem = allParameters[1];
            let currentCount = allParameters[2];
            let item = {
                itemName :  currentItem,
                count : currentCount,
            };
            if(currentCommand == "add"){
                return option.add(item);
            }else if(currentCommand == "updatecount"){
                return option.update(item);
            }else if(currentCommand == "listItem"){
                return option.listItems(currentItem);
            }else if(currentCommand == "listAllItems"){
                return option.listAllItems();
            }else if(currentCommand == "removeItem"){
                return option.remove(currentItem);
            }else if(currentCommand == "removeAllItems"){
                return option.removeAll();
            }
        });
    }
    main(["add Table","add Chair","updatecount Man 23","listItem Chair","listAllItems","removeItem Chair","removeItem Chair","listAllItems"]);
    //    let ab = [{data:"table",count :1},{data:"chair",count:2},'table'];
    //    console.log(ab);
       
    //    const repeat = ab.filter((element) => element.data === 'table')
    //    console.log();
    //             if (repeat == '') {
    //               //  List.push(item)
    //               console.log("not exist")
    //             } else {
    //                 ab.map((element) => {
    //                     if (element.data === 'table') {
    //                         // element.count++;
    //                         console.log("Exists");
    //                     }
    //                 })
    //             }
    
    // //    console.log(ab.filter((item)=> {return if(item.name){ item.name ==='Abhi';}));
    //    const inventoryList = () => {
    //     const inventory = [];

    //     const addItem = (name,count) => {
    //         if(!(inventory.includes(name)))
    //         inventory.push({Name:name,Count:count})
    //     }

    //     const removeItem = (name) => {
    //         const itemIndex = inventory.findIndex((element) => element === name || element.Name === name);
    //         if(itemIndex > -1)
    //             inventory.splice(itemIndex,1)
    //     }

    //     const updateCount = (name,count)=>{
    //         if(!(inventory.includes(name)))
    //             inventory.push({Name:name,Count:count})
    //     }
    //     const listItem = (name) => {
    //         inventory.forEach((item)=>{
    //        if(item.Name === name){
    //         console.log(item.Name+" "+item.Count);
    //        }else if(item ===name){
    //            console.log(item);
    //        }
    //    });
    //     }
    //     const listAllItems = () => {
    //         return inventory;
    //     }
    //     return {
    //         add:addItem,
    //         remove:removeItem,
    //         listItem,
    //         update:updateCount,
    //         listAllItems

    //     }
    //    }
    //  function main(commands){
    //     const inventoryObject = inventoryList();
    //     commands.forEach((command) => {
    //         const allParameters = command.split(' ');
    //         const currentCommand = allParameters[0];
    //         const currentParameter = allParameters[1];
    //         if(currentCommand === 'add'){
    //             inventoryObject.add(currentParameter,Count=1)
    //         }else if(currentCommand  === 'updateCount' && allParameters[2]){
    //            const countParameter =  allParameters[2];
    //             inventoryObject.update(currentParameter,countParameter)
    //         }else if(currentCommand === 'removeItem'){
    //             inventoryObject.remove(currentParameter)
    //         }else if(currentCommand === 'listItem'){
    //            inventoryObject.listItem(currentParameter);
    //         }else if(currentCommand === 'listAllItems'){
    //             console.log(inventoryObject.listAllItems());
    //         }
    //     })
    //  }

 //  main(['add Chair','add Shirt','listAllItems','updateCount Table 24','listAllItems','listItem Chair','listAllItems','listItem Table','removeItem Table','listAllItems','removeItem Chair','listAllItems']);
 // main(['add Chair','add Shirt','listAllItems','updateCount Table 24','listAllItems','listItem Chair','updateCount Table 25','listAllItems','listItem Table','listAllItems','removeItem Chair','listAllItems']);

   </script>
</body>
</html>