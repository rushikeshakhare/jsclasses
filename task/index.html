<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS Practice</title>
</head>
<body>
    <script> 
    const options = ()=>{
        let List = [];
        const additems = (item)=>{
           item.count = 0;
            List.push(item);
               
        }; 
        const listItems = (item)=>{
            console.log("Items With Their Counts -");
          List.forEach((element)=>{
            if(element.itemName == item){
                console.log(`ItemName :  ${element.itemName}, Count : ${element.count}`);
            }
          });
           
        }
    
       const listAllItems = ()=>{
        console.log("AllItems With Their Counts -");
           List.forEach((element)=>{
                console.log(`ItemName : ${element.itemName} , Count : ${element.count}`);
           });
        };

        const updatecount = (item)=>{
            List.push(item);
        };

        const removeItem = (item)=>{
            let ritem = List.findIndex((element)=>element.itemName === item);
            if(ritem > -1){
                List.splice(ritem,1)
                console.log("Item Removed");
            }
        }
        const removeAllItem = ()=>{
            List.splice(0);
            console.log("All Itmes Are Removed");
        }
        return {
            add: additems,
            update : updatecount,
            listItems,
            listAllItems,
            remove : removeItem,
            removeAll : removeAllItem
        };
    }

    function main(commands){
        const option = options();
        commands.forEach((element)=>{ 
            const allParameters = element.split(' ');
            let currentCommand = allParameters[0];
            let currentItem = allParameters[1];
            let currentCount = allParameters[2];
            let item = {
                itemName :  currentItem,
                count : currentCount,
            };
            if(currentCommand == "add"){
                return option.add(item);
            }else if(currentCommand == "updatecount"){
                return option.update(item);
            }else if(currentCommand == "listItem"){
                return option.listItems(currentItem);
            }else if(currentCommand == "listAllItems"){
                return option.listAllItems();
            }else if(currentCommand == "removeItem"){
                return option.remove(currentItem);
            }else if(currentCommand == "removeAllItems"){
                return option.removeAll();
            }
        });
    }
    main(["add Table","add Chair","updatecount Man 23","listItem Chair","listAllItems","removeItem Chair","removeItem Chair","listAllItems"]);
   </script>
</body>
</html>