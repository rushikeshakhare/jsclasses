<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const inventoryItem = () => {
         const inventory = [];

           const addItem = (name) =>{
            if(!(inventory.find((item) => item.name === name)))
              inventory.push({name,count:0});
            else console.log(`item $name already exist`);
           }   
             
           const removeItem = (name) =>{
               const itemIndex = inventory.findIndex((element) => element.name === name);
               if(itemIndex > -1){
                 inventory.splice(itemIndex,1)
               }
               else console.log(`item $name not found`);
           }

           const listAllItems = (name) =>{
               return inventory.length ? inventory: 'inventory is empty';
           }  

           const updateCount =(name,count) => {
               const itemIndex = inventory.findIndex((element)=> element.name===name);
                if(itemIndex>-1)
                  inventory[itemIndex].count = parseInt(count);
                else console.log(`item $name not found`);
           }

           const listItem = (name) =>{
               const itemIndex = inventory.findIndex((element)=> element.name===name);
               if(itemIndex>-1)
                return inventory[itemIndex]
               else console.log(`item $name not found`);
           }

           return{
               add:addItem,
                remove:removeItem,
               listAllItems,
               updateCount,
               listItem,
            
           }
       }

        function main(commands){
           const inventoryObject=inventoryItem();
           commands.forEach((command) => {
             const allParameters = command.split(' ');
             console.log(allParameters);
             const currentCommand =allParameters[0];
             const currentParameter = allParameters[1];
              
             if(currentCommand==="add"){
                 inventoryObject.add(currentParameter)
               }
            else if(currentCommand==="remove"){
                inventoryObject.remove(currentParameter)
               }
            else if(currentCommand==="listAllItems"){
                console.log(inventoryObject.listAllItems())
              }
            else if(currentCommand==="updateCount"){
                const countParameter =allParameters[2];
                inventoryObject.updateCount(currentParameter,countParameter)
              }
            else if(currentCommand==="listItem"){
                console.log(inventoryObject.listItem(currentParameter))
            }
           })
        }
        
        main(['add cookie','add chocolate','add shakes','updateCount cookie 50','updateCount chocolate 12','remove shakes','listItem cookie','listAllItems']);
    </script>
</body>
</html>